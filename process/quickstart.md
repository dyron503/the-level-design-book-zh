---
description: 概述电子游戏关卡设计的一般工作流程和概念
---

# 🗺️ 如何制作关卡

大多数 3D 关卡设计项目都经历此过程：

1. [前期制作](quickstart.md#id-1.-yu-zhi-zuo)：规划宏观创意，进行整体体验设计；
2. [战斗设计](combat/)（可选）：对于包含战斗的游戏，定义玩家和敌人类型，设计它们如何交互；
3. [绘制关卡草图](layout/)：制作关卡的俯视角 2D 草图；
4. [搭建白盒](blockout/)：构建基本的游戏内 3D 草图并进行跑测；
5. [编写脚本](scripting/)：集成事件与行为（任务、委托、门、按钮、人工智能）；
6. [打光](lighting/)：设置光源，提高深度和可读性；
7. [场景美术设计](environment_art/)：使用道具和布景技术对关卡进行艺术处理；
8. [发布](release.md)：记录、宣传和发布项目。

如果您不知道从哪里开始，请尝试做所有事情。随着经验的积累，您将了解何时跳过或扩展某个步骤。

<figure><img src="../.gitbook/assets/image (2) (1) (1) (1) (1) (1).png" alt=""><figcaption><p>Dave“DaveJ”Johnston 为《反恐精英》 1.6 设计的 de_dust 地下通道</p></figcaption></figure>

## 按需定制流程

关卡/项目间需求各异，没有制作关卡的所谓定式。

* 团队项目需要更充分的[前期制作](quickstart.md#id-1.-yu-zhi-zuo)和规划，在如[节奏设计](pre_production/pacing.md)大纲和[关卡草图](layout/)绘制的流程中投入更多精力。如缺乏足够的沟通和文档，成员难以协作；
* 战斗游戏/多人地图需要更多的事件调整[白盒](blockout/)，处理[交战点](combat/encounter.md)[地图平衡](combat/map_balance.md)，同时重点关注[跑测](blockout/playtesting/)结果；
* 相反，[**叙事**](environment_art/storytelling.md)**目的较强的单人游戏关卡**无需在白盒层面纠结太多。听起来不错？但此类游戏开发会遭遇特殊的，难以预料的困境。什么时候一个故事 「足够好」 ？为了达到这一目标，可能要大量迭代[脚本](scripting/)和[场景美术](environment_art/)。如果故事改变，则所有事情要推翻重来，更何况不同元素之间很难保持一致。你是否玩过故事毫无意义的游戏？你的游戏也可能面临同样的问题。

## 流程概览

### 1.前期制作

前期制作即规划项目的基本形状和范围。该项目是关于什么的？设计目标和限制是什么？

新手往往忽视项目规划，老手有可能陷入过度规划之中。大型商业工作室经常花费数月甚至数年进行这一步骤。对于团队协作项目来说这个阶段很关键，它帮助所有成员统一预期。相反，作为业余爱好者单独工作时，可能就不需要作太多计划。

前期制作步骤中的计划通常是文本文档、带有可移动卡片的看板和电子表格。

_有关概念规划的更多信息见_[_预制作_](pre_production/)

<figure><img src="../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption><p>《最后生还者》（顽皮狗）内部规划板的照片，来自维多利亚和阿尔伯特博物馆的 「电子游戏」</p></figcaption></figure>

### 2.战斗设计（可选）

如果项目有战斗，那么典型的战斗是什么样的，战斗是由什么组成的？玩家如何准备？怎样让战斗体验富于变化，提供新鲜感和成长感？

战斗系统和游戏的其它系统一样，应当在创建关卡前定义。

如果从头制作格斗游戏的话，可能需要程序和美术深度参与并添加功能和表现后，战斗玩起来才会「感觉良好」；基本上，需要把游戏做得差不多之后才能得到战斗相关的反馈！由于这样做工作量太大，我们建议改造现有的格斗游戏，你可以在预先构建并经过测试的战斗系统上进行练习。

_设计战斗、武器和敌人的更多信息见_[_战斗设计_](combat/)

_推荐修改的格斗游戏列表见_[_工具_](../appendix/tools.md)

<figure><img src="../.gitbook/assets/image (3) (1) (1).png" alt=""><figcaption><p>电子表格详细展示了《战神》 (2018) 女武神 Boss 的技能组，<a href="https://twitter.com/jasondeheras/status/1376005158656638977">作者：Jason de Heras（来自 X）</a></p></figcaption></figure>

### 3.绘制关卡草图

关卡草图展示关卡的基本结构，通常是核心区域和元素的 2D 平面图。

对于小型的个人项目，绘制简单的关卡草图，甚至是涂鸦便足矣。

对于团体/大型项目，详细的关卡草图对沟通非常重要。想法不经展示则无法阅读；如果你不自己绘制并加以讲解，就很难表达自己的需求。

关卡草图通常是俯视角 2D 平面图，等轴测图/透视图也很常见。绘制关卡草图的重点并不在于美观，而是信息传达！它是玩家可以去哪里做什么的可视规划。

_视觉空间规划的更多信息见_[_绘制关卡草图_](layout/)

<figure><img src="../.gitbook/assets/image (4) (1).png" alt=""><figcaption><p>《军团要塞：经典》 多人游戏地图 「Warpath」 的关卡草图，作者：Robin Walker</p></figcaption></figure>

### 4.搭建白盒

**白盒**是可玩的关卡草图，由简单的 3D 形状块在低保真度下构建。

我们对关卡的基本结构进行原型设计，以便我们可以在游戏引擎中进行跑测。跑测帮助我们决定关卡是否太小或太大、是否令人困惑或有趣、平衡或破碎，等等。

这种测试对于任何包含战斗的游戏或重新布置房间可能重大改变玩家行为的游戏都很重要。如果你意识到房间设计不符合目的，简单形状构成的结构改起来更便当。

白盒文件是加载到游戏引擎中的可玩关卡/场景文件。

<figure><img src="../.gitbook/assets/image (5).png" alt=""><figcaption><p>《神秘海域4》 （顽皮狗）中 "island arrival" 关卡白盒截图，作者：Em Schatz </p></figcaption></figure>

### 5.编写脚本

通过编写脚本，将行为、事件和游戏逻辑集成到关卡中。

[门脚本](scripting/doors.md)是游戏开发中最困难的问题之一。火车和移动平台更加复杂。最好从按钮和收集品开始。

任务目标、支线、过场动画、动作编排——以及任何人工智能控制/战斗系统/[遭遇战设计](combat/encounter.md)——通常依赖于脚本。如果你害怕编程，不用担心，许多游戏引擎和工具集都有特殊的脚本语言和工具来简化编程。

在关卡设计领域，脚本编写者往往被低估。但正是脚本赋予了关卡生命力，将地图转化为可玩的体验。

_使得关卡可玩的更多信息见_[_编写脚本_](scripting/)

<figure><img src="../.gitbook/assets/image (6).png" alt=""><figcaption><p>在早期版本的 <em>Gone Home</em> 中，门的表现不大正常……摘自<a href="https://fullbright.company/2012/07/02/code-judo/">博客文章 “Code Judo” 作者 Johnnemann Nordhagen</a></p></figcaption></figure>

### 6.打光

光照为白盒添加阴影与深度，辅助玩家理解关卡的核心结构。

3D 游戏场景没了光照看起来会更平，玩家难以估测距离和理解结构。光与影有时也可以作为战斗中隐藏/提供信息的手段。

虽然行业更多将打光视为装饰性的场景美术工作，但我们认为光照具备重要的游戏性作用，设计时需要灯光师/场景美术设计师与关卡策划深入协商。

_光照设计的更多信息见_[_打光_](lighting/)

<figure><img src="../.gitbook/assets/image (7).png" alt=""><figcaption><p><a href="https://www.artstation.com/artwork/lBLzJ">Harley Wilson</a> 的中世纪灯光研究与灯光实体<a href="https://www.artstation.com/artwork/lBLzJ">（来自 Artstation.com）</a></p></figcaption></figure>

### 7.场景美术设计

一旦关卡的整体结构和流程确定下来，就可以开始添加更多的**场景美术**资源，或者说视觉细节。

**美术调整（Art Pass）**&#x662F;添加细节的流程。大多数项目都需要进行多次调整。

许多人觉得视觉包装是「有趣的部分」；初学者通常在缺乏充分规划、草图设计或白盒验证之时过早开始美术包装。改变关卡并重做所有美术资产很昂贵，这让早期的设计错误难以修正。一定要克制住这种冲动，不要急于开始做场景美术！

_对关卡进行视觉包装的更多信息见_[_场景美术_](environment_art/)

<figure><img src="../.gitbook/assets/image (1).webp" alt=""><figcaption><p>《狙击精英》 中雪地军事码头关卡开发过程的 GIF 动画</p></figcaption></figure>

### 8.发布

项目完成后，就该**发布**并确认玩家收到了。

对于商业项目来说，游戏发行只是噩梦的开始——您必须继续营销和宣传项目、评估用户反馈、修复错误，甚至构建额外的发布后内容。

对于个人作品集项目，必须正确记录关卡设计，否则工作很难被理解。没有有效文档的话，该项目基本上不存在。

初学者通常在这一阶段投入的时间不足，Ta 们假设项目自身就能传达设计信息；但如果观看者不知道项目内设计点存在于何处的话，自然也很难知道开发者的工作做在哪里了。

_发布关卡/构筑作品集的更多信息见_[_发布_](release.md)

## 回顾

关卡设计通常涉及多个步骤，按以下一般顺序：（1）前期制作，（2）战斗设计（除非是非战斗游戏），（3）绘制关卡草图，（4）搭建白盒，（5）编写脚本，（6） 打光，（7）场景美术设计，（8）发布。

重复一遍：没有两个项目完全相同。有时候可能会跳过预制作阶段、延长脚本编写或提前进行场景美术设计，等等。

如果你正处于关卡策划职业早期或项目正处于早期，也许可以尝试做所有事情，摸索出最适合的流程。

## 下一步怎么办？

* 从头开始 — 了解关卡设计的[前期制作](pre_production/)过程。即便只做一点点计划，也可能有很大帮助；它将帮你弄清自己在做什么。
* 在日常工作中，大多数关卡策划会重点关注[关卡草图](layout/)和[关卡白盒](blockout/)。
